# 7.0 Introduction

Scroll to begin

# **7.0.1 Why should I take this module?**

Welcome to Ethernet Switching!

If you are planning to become a network administrator or a network architect, you will definitely need to know about Ethernet and Ethernet switching. The two most prominent LAN technologies in use today are Ethernet and WLAN. Ethernet supports bandwidths of up to 100 Gbps, which explains its popularity. This module contains a lab using Wireshark in which you can look at Ethernet frames and another lab where you view network device MAC addresses. There are also some instructional videos to help you better understand Ethernet. By the time you have finished this module, you too could create a switched network that uses Ethernet!

# **7.0.2 What will I learn to do in this module?**

**Module Title:** Ethernet Switching

**Module Objective:** Explain how Ethernet operates in a switched network.

|  |  |
| --- | --- |
|  |  |
|  |  |
|  |  |
|  |  |

# 7.1 Ethernet Frames

Scroll to begin

# **7.1.1 Ethernet Encapsulation**

This module starts with a discussion of Ethernet technology including an explanation of MAC sublayer and the Ethernet frame fields.

Ethernet is one of two LAN technologies used today, with the other being wireless LANs (WLANs). Ethernet uses wired communications, including twisted pair, fiber-optic links, and coaxial cables.

Ethernet operates in the data link layer and the physical layer. It is a family of networking technologies defined in the IEEE 802.2 and 802.3 standards. Ethernet supports data bandwidths of the following:

- 10 Mbps
- 100 Mbps
- 1000 Mbps (1 Gbps)
- 10,000 Mbps (10 Gbps)
- 40,000 Mbps (40 Gbps)
- 100,000 Mbps (100 Gbps)

As shown in the figure, Ethernet standards define both the Layer 2 protocols and the Layer 1 technologies.

# **Ethernet and the OSI Model**

Application

Presentation

Session

Transport

Network

Data Link

Physical

LLC

MAC

802.2

802.3

Ethernet

*Ethernet is defined by data link layer and physical layer protocols.*

# **7.1.2 Data Link Sublayers**

IEEE 802 LAN/MAN protocols, including Ethernet, use the following two separate sublayers of the data link layer to operate. They are the Logical Link Control (LLC) and the Media Access Control (MAC), as shown in the figure.

Recall that LLC and MAC have the following roles in the data link layer:

- **LLC Sublayer** - This IEEE 802.2 sublayer communicates between the networking software at the upper layers and the device hardware at the lower layers. It places information in the frame that identifies which network layer protocol is being used for the frame. This information allows multiple Layer 3 protocols, such as IPv4 and IPv6, to use the same network interface and media.
- **MAC Sublayer** - This sublayer (IEEE 802.3, 802.11, or 802.15 for example) is implemented in hardware and is responsible for data encapsulation and media access control. It provides data link layer addressing and is integrated with various physical layer technologies.

The diagram shows the OSI network, data link, and physical layers. It also shows the data link layer LLC and MAC sublayers and various LAN/WAN protocols. At the top of the diagram is the network layer and the network layer protocol. Below that is the data link layer and its sublayers. The top sublayer is the LLC sublayer as specified in IEEE 802.2. Next is the MAC sublayer with three columns representing different types of network technologies. The first column is Ethernet IEEE 802.3 at the upper part of the MAC sublayer. Below this are various Ethernet standards for Fast Ethernet, Gigabit Ethernet, etc. that span across the lower part of the MAC sublayer and the entire OSI physical layer. The next column is WLAN IEEE 802.11 at the upper part of the MAC sublayer. Below this are the various WLAN standards for different types of wireless communications that span across the lower part of the MAC sublayer and the entire OSI physical layer. The last column is WPAN IEEE 802.15 at the upper part of the MAC sublayer. Below this are various WPAN standards for Bluetooth, RFID, etc. that span across the lower part of the MAC sublayer and the entire OSI physical layer.

Network Layer Protocol

Network

Data Link

LLC Sublayer - IEEE 802.2

LLC Sublayer

MAC Sublayer

EthernetIEEE 802.3

WLANIEEE 802.11

WPANIEEE 802.15

Various Ethernet standards for Fast Ethernet, Gigabit Ethernet, etc.

Various WLAN standards for different types of wireless communications

Various WPAN standards for Bluetooth, RFID, etc.

Physical

# **7.1.3 MAC Sublayer**

The MAC sublayer is responsible for data encapsulation and accessing the media.

**Data Encapsulation**

IEEE 802.3 data encapsulation includes the following:

- **Ethernet frame** - This is the internal structure of the Ethernet frame.
- **Ethernet Addressing** - The Ethernet frame includes both a source and destination MAC address to deliver the Ethernet frame from Ethernet NIC to Ethernet NIC on the same LAN.
- **Ethernet Error detection** - The Ethernet frame includes a frame check sequence (FCS) trailer used for error detection.

**Accessing the Media**

As shown in the figure, the IEEE 802.3 MAC sublayer includes the specifications for different Ethernet communications standards over various types of media including copper and fiber.

# **Ethernet Standards in the MAC Sublayer**

The diagram is showing various Ethernet standards in the MAC sublayer. At the top of the diagram is the network layer and the network layer protocol. Below that is the data link layer and its sublayers. The top sublayer is the IEEE 802.2 LLC sublayer. Next is the Ethernet IEEE 802.3 MAC sublayer. Below that are five columns with various Ethernet standards and media types that span the lower part of the MAC sublayer and the entire OSI physical layer. From left to right the columns are: IEEE 802.3u Fast Ethernet; IEEE 802.3z Gigabit Ethernet over Fiber; IEEE 802.ab Gigabit Ethernet over Copper; IEEE 802.3ae 10 Gigabit Ethernet over Fiber; and Etc.

Ethernet-IEEE 802.3

IEEE 802.3zGigabit Ethernetover Fiber

IEEE 802.3abGigabit Ethernetover Copper

IEEE 802.3uFast Ethernet

Network Layered Protocol

Network

Data Link

LLC Sublayer-IEEE 802.2

LLC Sublayer

Physical

MAC Sublayer

Etc.

IEEE 802.3ae10 Gigabit Ethernetover Fiber

Recall that legacy Ethernet using a bus topology or hubs, is a shared, half-duplex medium. Ethernet over a half-duplex medium uses a contention-based access method, carrier sense multiple access/collision detection (CSMA/CD) This ensures that only one device is transmitting at a time. CSMA/CD allows multiple devices to share the same half-duplex medium, detecting a collision when more than one device attempts to transmit simultaneously. It also provides a back-off algorithm for retransmission.

Ethernet LANs of today use switches that operate in full-duplex. Full-duplex communications with Ethernet switches do not require access control through CSMA/CD.

# **7.1.4 Ethernet Frame Fields**

The minimum Ethernet frame size is 64 bytes and the expected maximum is 1518 bytes. This includes all bytes from the destination MAC address field through the frame check sequence (FCS) field. The preamble field is not included when describing the size of the frame.

**Note:** The frame size may be larger if additional requirements are included, such as VLAN tagging. VLAN tagging is beyond the scope of this course.

Any frame less than 64 bytes in length is considered a “collision fragment” or “runt frame” and is automatically discarded by receiving stations. Frames with more than 1500 bytes of data are considered “jumbo” or “baby giant frames”.

If the size of a transmitted frame is less than the minimum, or greater than the maximum, the receiving device drops the frame. Dropped frames are likely to be the result of collisions or other unwanted signals. They are considered invalid. Jumbo frames are usually supported by most Fast Ethernet and Gigabit Ethernet switches and NICs.

The figure shows each field in the Ethernet frame. Refer to the table for more information about the function of each field.

# **Ethernet Frame Fields**

The diagram shows the fields of an Ethernet frame. From left to right the fields and their length are: Preamble and SFD, 8 bytes; destination MAC address, 6 bytes; source MAC address, 6 bytes; type / length, 2 bytes; data, 46 - 1500 bytes; and F C S, 4 bytes. Excluding the first field, the total number of bytes in the remaining fields is between 64 - 1518 bytes.

FCS

Data

Type / Length

Source MAC Address

Preamble and SFD

Destination MAC Address

8 bytes

6 bytes

6 bytes

2 bytes

46-1500 bytes

4 bytes

64-1518 bytes

**Ethernet Frame Fields Detail**

|  |  |
| --- | --- |
|  |  |
|  |  |
|  |  |
|  |  |
|  |  |
|  |  |

## 7.1.5 Check Your Understanding - Ethernet Switching

**Instructions:**

![](https://www.netacad.com/content/itn/1.0/assets/icons8-info-16.svg)

- The exam consists of **7** questions and **70**% is required to pass.
- You have **unlimited attempts** to pass the exam.
- You have **no** time limit per attempt to pass the exam.

Start

# **7.1.6 Lab - Use Wireshark to Examine Ethernet Frames**

In this lab, you will complete the following objectives:

- Part 1: Examine the Header Fields in an Ethernet II Frame
- Part 2: Use Wireshark to Capture and Analyze Ethernet Frames

**description**Use Wireshark to Examine Ethernet Frames

# 7.2 Ethernet MAC Address

Scroll to begin

# **7.2.1 MAC Address and Hexadecimal**

In networking, IPv4 addresses are represented using the decimal base ten number system and the binary base 2 number system. IPv6 addresses and Ethernet addresses are represented using the hexadecimal base sixteen number system. To understand hexadecimal, you must first be very familiar with binary and decimal.

The hexadecimal numbering system uses the numbers 0 to 9 and the letters A to F.

An Ethernet MAC address consists of a 48-bit binary value. Hexadecimal is used to identify an Ethernet address because a single hexadecimal digit represents four binary bits. Therefore, a 48-bit Ethernet MAC address can be expressed using only 12 hexadecimal values.

The figure compares the equivalent decimal and hexadecimal values for binary 0000 to 1111.

# **Decimal and Binary Equivalents of 0 to F Hexadecimal**

The figure is three columns showing the decimal and hexadecimal equivalents of select 4-bit binary numbers. From left to right, the column headings are: decimal, binary, and hexadecimal. Each column has 16 rows below the header.

015345678910111213142100001111001101000101011001111000100110101011110011011110001000010F3456789ABCDE21

Decimal

Binary

Hexadecimal

Given that 8 bits (one byte) is a common binary grouping, binary 00000000 to 11111111 can be represented in hexadecimal as the range 00 to FF, as shown in the next figure.

# **Selected Decimal, Binary, and Hexadecimal Equivalents**

The figure is three columns showing the decimal and hexadecimal equivalents of select 8-bit binary numbers. From left to right, the column headings are: decimal, binary, and hexadecimal. Each column has 18 rows below the header.

02553571015321281922022402181664640000 00001111 11110000 00110000 01010000 01110000 10100000 11110010 00001000 00001100 00001100 10101111 00000000 00100000 00010000 10000001 00000100 00000000 01100000 010000FF0305070A0F2080C0CAF002010810400604

Decimal

Binary

Hexadecimal

When using hexadecimal, leading zeroes are always displayed to complete the 8-bit representation. For example, in the table, the binary value 0000 1010 is shown in hexadecimal as 0A.

Hexadecimal numbers are often represented by the value preceded by **0x** (e.g., 0x73) to distinguish between decimal and hexadecimal values in documentation.

Hexadecimal may also be represented by a subscript 16, or the hex number followed by an H (e.g., 73H).

You may have to convert between decimal and hexadecimal values. If such conversions are required, convert the decimal or hexadecimal value to binary, and then to convert the binary value to either decimal or hexadecimal as appropriate.

# **7.2.2 Ethernet MAC Address**

In an Ethernet LAN, every network device is connected to the same, shared media. The MAC address is used to identify the physical source and destination devices (NICs) on the local network segment. MAC addressing provides a method for device identification at the data link layer of the OSI model.

An Ethernet MAC address is a 48-bit address expressed using 12 hexadecimal digits, as shown in the figure. Because a byte equals 8 bits, we can also say that a MAC address is 6 bytes in length.

The diagram shows that MAC address are composed of 48 bits total. These 48 bits can be divided into twelve 4-bit groupings, or 12 hex digits. Combining two hex digits together makes a byte, therefore the 48 bits is also equivalent to 6 bytes.

1111      1111      1111      1111      1111      1111      1111      1111      1111      1111      1111      1111

**Byte**

**Byte**

**Byte**

**Byte**

**Byte**

**Byte**

**= 6 bytes**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**= 12 hex**

**= 48 bits**

All MAC addresses must be unique to the Ethernet device or Ethernet interface. To ensure this, all vendors that sell Ethernet devices must register with the IEEE to obtain a unique 6 hexadecimal (i.e., 24-bit or 3-byte) code called the organizationally unique identifier (OUI).

When a vendor assigns a MAC address to a device or Ethernet interface, the vendor must do as follows:

- Use its assigned OUI as the first 6 hexadecimal digits.
- Assign a unique value in the last 6 hexadecimal digits.

Therefore, an Ethernet MAC address consists of a 6 hexadecimal vendor OUI code followed by a 6 hexadecimal vendor-assigned value, as shown in the figure.

the first six hex digits of a MAC address (AKA first 6 hex digits or first 3 bytes) is the organizational unique identifier and the last six hex digits is vendor assigned

111111111111111111111111111111111111111111111111

**Byte**

**Byte**

**Byte**

**Byte**

**Byte**

**Byte**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Organizationally Unique Identifier (OUI)**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Hex**

**Vendor Assigned**

**Hex**

For example, assume that Cisco needs to assign a unique MAC address to a new device. The IEEE has assigned Cisco a OUI of **00-60-2F**. Cisco would then configure the device with a unique vendor code such as **3A-07-BC**. Therefore, the Ethernet MAC address of that device would be **00-60-2F-3A-07-BC.**

It is the responsibility of the vendor to ensure that none of its devices be assigned the same MAC address. However, it is possible for duplicate MAC addresses to exist because of mistakes made during manufacturing, mistakes made in some virtual machine implementation methods, or modifications made using one of several software tools. In any case, it will be necessary to modify the MAC address with a new NIC or make modifications via software.

# **7.2.3 Frame Processing**

Sometimes the MAC address is referred to as a burned-in address (BIA) because the address is hard coded into read-only memory (ROM) on the NIC. This means that the address is encoded into the ROM chip permanently.

**Note:** On modern PC operating systems and NICs, it is possible to change the MAC address in software. This is useful when attempting to gain access to a network that filters based on BIA. Consequently, filtering or controlling traffic based on the MAC address is no longer as secure.

When the computer boots up, the NIC copies its MAC address from ROM into RAM. When a device is forwarding a message to an Ethernet network, the Ethernet header includes these:

- **Source MAC address** - This is the MAC address of the source device NIC.
- **Destination MAC address** - This is the MAC address of the destination device NIC.

Click Play in the animation to view the frame forwarding process.

The animation has a topology consisting of a switch with links to four host PCs labeled, H1, H2, H3 and H4. H1 says I need to send information to H3. A frame appears on the screen of the PC and an expanded view of the frame appears above the PC. The frame consists of the framing addressing and data. The destination address CC:CC:CC:CC:CC:CC, the source address AA:AA:AA:AA:AA:AA and the data part of the frame is encapsulated. The frame from H1 is forwarded to the switch. The switch then forwards the frame out every interface but the interface connected to H1. When H2 and H4 receive the frame and they say This is not addressed to me. I shall ignore it. When H3 receives the frame it says This is mine.

This is not addressed to me. I shall ignore it.

This is not addressed to me. I shall ignore it.

This is mine.

I need to send information to H3.

Destination Address

Source Address

CC:CC:CC:CC:CC:CC

AA:AA:AA:AA:AA:AA

Encapsulated data

Frame Addressing

# play_circle_filled

When a NIC receives an Ethernet frame, it examines the destination MAC address to see if it matches the physical MAC address that is stored in RAM. If there is no match, the device discards the frame. If there is a match, it passes the frame up the OSI layers, where the de-encapsulation process takes place.

**Note:** Ethernet NICs will also accept frames if the destination MAC address is a broadcast or a multicast group of which the host is a member.

Any device that is the source or destination of an Ethernet frame, will have an Ethernet NIC and therefore, a MAC address. This includes workstations, servers, printers, mobile devices, and routers.

# **7.2.4 Unicast MAC Address**

In Ethernet, different MAC addresses are used for Layer 2 unicast, broadcast, and multicast communications.

A unicast MAC address is the unique address that is used when a frame is sent from a single transmitting device to a single destination device.

Click Play in the animation to view how a unicast frame is processed. In this example the destination MAC address and the destination IP address are both unicast.

The animation shows a host with IPv4 address 192.168.1.5 (source) requesting a web page from a server at IPv4 unicast address 192.168.1.200. The animation has a topology consisting of a host PC named H1 linked to a switch. The switch has connections to three other host PCs and two servers. At the bottom of the animation is an expanded view of an ethernet frame. The frame consists of the destination MAC 00-07-E9-42-AC-28, source MAC 00-07-E9-63-CE-53, Source IP 192.168.1.5, destination IP address 192.168.1.200, user data and trailer. The IP packet portion of the frame is the source IP, destination IP address, and user data. In the animation, H1 says I need to send this frame to Server. A frame is sent from H1 to the switch. The switch then forwards the frame to the server with the IP and MAC matching the destination IP and MAC address.

I need to send this frame to Server.

**Server**IP: 192.168.1.200MAC: 00-07-E9-42-AC-28

**Source Host**IP: 192.168.1.5MAC: 00-07-E9-63-CE-53

00-07-E9-42-AC-28

00-07-E9-63-CE-53

192.168.1.5

192.168.1.200

User Data

Trailer

Dest MAC

Source MAC

Source IP

Dest IP

IP Packet

Ethernet Frame

# play_circle_filled

In the example shown in the animation, a host with IPv4 address 192.168.1.5 (source) requests a web page from the server at IPv4 unicast address 192.168.1.200. For a unicast packet to be sent and received, a destination IP address must be in the IP packet header. A corresponding destination MAC address must also be present in the Ethernet frame header. The IP address and MAC address combine to deliver data to one specific destination host.

The process that a source host uses to determine the destination MAC address associated with an IPv4 address is known as Address Resolution Protocol (ARP). The process that a source host uses to determine the destination MAC address associated with an IPv6 address is known as Neighbor Discovery (ND).

**Note:** The source MAC address must always be a unicast.

# **7.2.5 Broadcast MAC Address**

An Ethernet broadcast frame is received and processed by every device on the Ethernet LAN. The features of an Ethernet broadcast are as follows:

- It has a destination MAC address of FF-FF-FF-FF-FF-FF in hexadecimal (48 ones in binary).
- It is flooded out all Ethernet switch ports except the incoming port.
- It is not forwarded by a router.

If the encapsulated data is an IPv4 broadcast packet, this means the packet contains a destination IPv4 address that has all ones (1s) in the host portion. This numbering in the address means that all hosts on that local network (broadcast domain) will receive and process the packet.

Click Play in the animation to view how a broadcast frame is processed. In this example the destination MAC address and destination IP address are both broadcasts.

The animation shows a source host sending an IPv4 broadcast packet to all devices on its network. The animation has a topology consisting of a host PC named H1 linked to a switch. The switch has connections to three other host PCs and two servers. At the bottom of the animation is an expanded view of an ethernet frame. The frame consists of the destination MAC FF-FF-FF-FF-FF-FF, source MAC 00-07-E9-63-CE-53, Source IP 192.168.1.5, destination IP address 192.168.1.255, user data and trailer. The IP packet portion of the frame is the source IP, destination IP address, and user data. In the animation, H1 says I need to send data to all hosts on the network. A frame is sent from H1 to the switch. The switch then forwards the frame out all its interfaces except the one connected to H1. The three other PC hosts and the two servers receive the frames.

I need to send data to all hosts on the network.

**DestinationHost Group**

**Source Host**IP: 192.168.1.5MAC: 00-07-E9-63-CE-53

FF-FF-FF-FF-FF-FF

00-07-E9-63-CE-53

192.168.1.5

192.168.1.255

User Data

Trailer

Dest MAC

Source MAC

Source IP

Dest IP

IP Packet

Ethernet Frame

# play_circle_filled

As shown in the animation, the source host sends an IPv4 broadcast packet to all devices on its network. The IPv4 destination address is a broadcast address, 192.168.1.255. When the IPv4 broadcast packet is encapsulated in the Ethernet frame, the destination MAC address is the broadcast MAC address of FF-FF-FF-FF-FF-FF in hexadecimal (48 ones in binary).

DHCP for IPv4 is an example of a protocol that uses Ethernet and IPv4 broadcast addresses.

However, not all Ethernet broadcasts carry an IPv4 broadcast packet. For example, ARP Requests do not use IPv4, but the ARP message is sent as an Ethernet broadcast.

# **7.2.6 Multicast MAC Address**

An Ethernet multicast frame is received and processed by a group of devices on the Ethernet LAN that belong to the same multicast group. The features of an Ethernet multicast are as follows:

- There is a destination MAC address of 01-00-5E when the encapsulated data is an IPv4 multicast packet and a destination MAC address of 33-33 when the encapsulated data is an IPv6 multicast packet.
- There are other reserved multicast destination MAC addresses for when the encapsulated data is not IP, such as Spanning Tree Protocol (STP) and Link Layer Discovery Protocol (LLDP).
- It is flooded out all Ethernet switch ports except the incoming port, unless the switch is configured for multicast snooping.
- It is not forwarded by a router, unless the router is configured to route multicast packets.

If the encapsulated data is an IP multicast packet, the devices that belong to a multicast group are assigned a multicast group IP address. The range of IPv4 multicast addresses is 224.0.0.0 to 239.255.255.255. The range of IPv6 multicast addresses begins with ff00::/8. Because multicast addresses represent a group of addresses (sometimes called a host group), they can only be used as the destination of a packet. The source will always be a unicast address.

As with the unicast and broadcast addresses, the multicast IP address requires a corresponding multicast MAC address to deliver frames on a local network. The multicast MAC address is associated with, and uses addressing information from, the IPv4 or IPv6 multicast address.

Click Play in the animation to view how a multicast frame is processed. In this example, the destination MAC address and destination IP address are both multicasts.

The animation shows a source host sending a multicast frame to devices that belong to the multicast group. The animation has a topology consisting of a host PC named H1 linked to a switch. The switch has connections to three other host PCs and two servers. At the bottom of the animation is an expanded view of an ethernet frame. The frame consists of the destination MAC 01-00-5E-00-00-C8, source MAC 00-07-E9-63-CE-53, Source IP 192.168.1.5, destination IP address 224.0.0.200, user data and trailer. The IP packet portion of the frame is the source IP, destination IP address, and user data. In the animation, H1 says I need to send to a group of hosts on the network. A frame is sent from H1 to the switch. The switch then forwards the frame out to only the devices in the multicast group. Two of the three PC hosts and one server receive the multicast frame.

I need to send to a group of hosts on the network.

**DestinationHost Group**

**Source Host**IP: 192.168.1.5MAC: 00-07-E9-63-CE-53

01-00-5E-00-00-C8

00-07-E9-63-CE-53

192.168.1.5

224.0.0.200

User Data

Trailer

Dest MAC

Source MAC

Source IP

Dest IP

IP Packet

Ethernet Frame

# play_circle_filled

Routing protocols and other network protocols use multicast addressing. Applications such as video and imaging software may also use multicast addressing, although multicast applications are not as common.

# **7.2.7 Lab - View Network Device MAC Addresses**

In this lab, you will complete the following objectives:

- Part 1: Set Up the Topology and Initialize Devices
- Part 2: Configure Devices and Verify Connectivity
- Part 3: Display, Describe, and Analyze Ethernet MAC Addresses

**description**View Network Device MAC Addresses