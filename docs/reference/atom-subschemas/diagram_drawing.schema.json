{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Diagram Drawing Atom",
  "description": "Draw a diagram that satisfies required elements and constraints.",
  "type": "object",
  "required": ["prompt"],
  "properties": {
    "prompt": {
      "type": "string",
      "description": "Instruction describing the diagram to draw.",
      "minLength": 1
    },
    "diagram_type": {
      "type": "string",
      "description": "Diagram category or style (e.g., topology, flowchart)."
    },
    "required_elements": {
      "type": "array",
      "description": "Elements that must appear in the diagram.",
      "items": {"type": "string"},
      "minItems": 1
    },
    "allowed_elements": {
      "type": "array",
      "description": "Elements permitted in the diagram.",
      "items": {"type": "string"}
    },
    "constraints": {
      "type": "array",
      "description": "Structural constraints such as connections or labels.",
      "items": {"type": "string"}
    },
    "canvas": {
      "type": "object",
      "description": "Canvas size in pixels.",
      "required": ["width", "height"],
      "properties": {
        "width": {"type": "integer", "minimum": 1},
        "height": {"type": "integer", "minimum": 1}
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
